<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security"
      layout:decorate="~{layouts/layout1}">

<th:block layout:fragment="script">
    <script th:inline="javascript">
        function register() {
            location.href='/board/register';
        }

        function alarmLogin(){
            const myModal = new bootstrap.Modal(document.getElementById('exampleModal'));
            myModal.show();
        }
    </script>
</th:block>

<th:block layout:fragment="css">
    <style>
        .board .board-row {
            width: 100%;
            display: flex;
            margin-left: 1em;
            padding-right: 1em;
            margin-top: 1em;
        }

        .board-row .left {
            flex-grow: 1;
            padding: 1em;
            border: 1px solid #d1d3d8;
            box-sizing: border-box;
        }

        .board-row .left .title {
            font-size: 1.2rem;
            font-weight: 700;
            margin-top: 0.5rem;
            margin-left: 0.5rem;
            margin-bottom: 1em;
        }

        .board-row .left .userName {
            font-size: 0.8rem;
            font-weight: 700;
            margin-top: 0.5rem;
            margin-left: 0.5rem;
            margin-bottom: 0.5rem;
        }

        .board-row .right {
            width: 5em;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 1px solid #d1d3d8;
        }

    </style>
</th:block>

<div layout:fragment="content">

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header">
                    <h1 class="modal-title fs-5" id="exampleModalLabel">알림</h1>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    로그인이 필요합니다.
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">닫기</button>
                </div>
            </div>
        </div>
    </div>

    <button sec:authorize="isAuthenticated()" type="button" class="btn btn-outline-dark" onclick="register()">글쓰기</button>
    <button sec:authorize="isAnonymous()" type="button" class="btn btn-outline-dark" onclick="alarmLogin()">글쓰기</button>
    <ul class="board">
        <th:block th:each="board, status: ${boards}">
            <a th:href="@{|/board/read/${board.id}|}" class="text-dark">
                <li class="board-row">
                    <div class="left">
                        <div class="title">[[${board.title}]]</div>
                        <div class="writer">[[${board.writer}]]</div>
                    </div>
                    <div class="right">
                        <div>
                            <p>조회수</p>
                            <p>100회</p>
                        </div>
                    </div>
                </li>
            </a>
        </th:block>
    </ul>

<!--    <table class="table table-hover">
        <thead>
            <tr>
                <th scope="col">제목</th>
                <th scope="col">작성자</th>
                <th scope="col">작성일</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <th scope="row">1</th>
                <td>Mark</td>
                <td>Otto</td>
                <td>@mdo</td>
            </tr>
        </tbody>
    </table>-->

</div>




